#MongoDB 개요

##왜 MongoDB인가?

DB-ENGINES은 매달 데이터베이스 관리시스템의 인기 순위를 발표한다. 그림 1은 2012년 11월부터 2013년 12월까지 상위 열 개의 데이터베이스 엔진의 점수를 변화를 나타낸 챠트다. 다른 데이터베이스와 달리 MongoDB의 점수는 계속 오르고 있다. 이렇게 MongoDB에 관심이 높아지는 이유는 무엇일까?

![그림 1 DB-Engines 순위](./images/dbengines.png)

###직관적인 데이터 모델

도큐먼트 데이터베이스는 데이터 모델이 풍부하다. ObjectId를 기본키(primary key)로 하며 배열을 값으로 저장할 수 있다. 하나의 도큐먼트 내부에 새로운 도큐먼트를 삽입할 수 있어 계층적인 구조의 데이터를 표현할 수 있다. 관계형 데이터베이스처럼 정규화를 거쳐 테이블을 나누지 않아도 되고 복잡한 조인(join)을 써서 쿼리를 만들 필요가 없다. 따라서 테이블 명세서나 관계 다이어그램 없이 도큐먼트만 조회하여 모델을 쉽게 파악할 수 있다. 

###동적 스키마 

MongoDB는 미리 정해진 스키마 없이 개발이 가능하다. 스키마 변경이 쉬워 애자일 개발에 유용하다. 애자일 개발의 목표는 소프트웨어의 품질향상과 적시성(time to market) 그리고 개발 생산성을 높이는 것이다. MongoDB는 동적인 스키마를 가지고 있어 값비싼 마이그레이션 비용 없이 빠르게 애플리케이션 개발할 수 있다.

###모던 웹

MongoDB는 모던 웹에 잘 맞는다. 모바일 앱과 소셜 네트워크 서비스의 증가로 애플리케이션에서 처리해야 하는 데이터의 양은 계속 증가하고 있다. 최근 애플리케이션은 엄격한 트랜잭션을 보장하는 것보다 빠른 데이터 처리가 더 중요한 경우가 많다. 또한 비정형 데이터 등 다양한 모델이 요구된다. MongoDB는 확장이 쉽고 메모리를 사용하여 빠른 처리가 가능하다.

##MongoDB란 무엇인가?

###도큐먼트 데이터베이스

MongoDB는 도큐먼트 데이터베이스이다. 처음 접하는 독자를 위해 예를 들어 설명하겠다. 그림 2는 간단한 블로그 애플리케이션의 포스트 도큐먼트다. 아이디(_id)는 기본키이며 ObectId라고 한다. ObjectId는 고유한 값으로 자동으로 생성되며 크기는 12바이트이다. ObjectId는 도큐먼트가 만들어진 시간을 알 수 있는 타임스탬프 값을 포함한다. 기본키는 필요에 따라 개발자가 일련번호와 같은 고유한 키를 만들어 사용할 수도 있다. 태그(tags)처럼 값에 배열을 저장할 수도 있다. 댓글(comments)를 내장(embeded) 도큐먼트로 삽입할 수도 있어 댓글을 저장하기 위해 별도의 테이블을 만들지 않아도 된다. 

```javascript
{ 
  _id : ObjectId(‘52ab4ec6dfad251bd0b745ef’),
  title : ‘What is MongoDB?’,
  body : ‘MongoDB (from "humongous") is an open-source document database.’,
  tags: [‘mongodb’,‘document database’],
  comments: [
            { author: ‘Heidi’,
            body: ‘Awesome post.’
            },
            { author: ‘Eugene’,
            body: ‘Thanks.’
            }
  ] 
}
```
